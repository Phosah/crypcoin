<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="info"></div>
    <button id="getCrypto">Get crypto</button>

    <script>
        // document.getElementById('getCrypto').addEventListener('click', getCrypto);
        window.addEventListener('DOMContentLoaded', getCrypto);
        function getCrypto () {
            let currentDate = (Math.floor(new Date().getTime()/1000.0));
            let prev24hrs = (currentDate - (86400000/1000.0));
            // 24 * 60 * 60 * 1000 = 86400000;
            console.log(currentDate);
            console.log(prev24hrs);
            fetch(`https://api.coingecko.com/api/v3/coins/dogecoin/market_chart/range?vs_currency=usd&from=${prev24hrs}&to=${currentDate}`)
            .then(function(res){
                return (res.json());
            })
            .then(function(data){
                // console.log(data['prices']);
                let prices = data['prices'];
                let cryptoPrice = new Array;
                prices.forEach(price => {
                    price[1];
                    // console.log(price[1]);
                    cryptoPrice.push(price[1]);
                });
                console.log(cryptoPrice);
            })
        }
        
    </script>
</body>
</html>
